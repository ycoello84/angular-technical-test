"use strict";(self.webpackChunktest_level=self.webpackChunktest_level||[]).push([[617],{2617:(y,c,o)=>{o.r(c),o.d(c,{FilmsModule:()=>F});var a=o(6019),l=o(9333),t=o(3019),u=o(2518);function m(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"li",4),t._uU(2),t.ALo(3,"date"),t.TgZ(4,"a",5),t._uU(5," More details..."),t.qZA(),t.qZA(),t.BQk()),2&i){const e=s.$implicit;t.xp6(2),t.lnq(" ",e.title," / ",e.director," / ",t.xi3(3,4,e.created,"yyyy-MM-dd")," "),t.xp6(2),t.Q6J("routerLink",e.episode_id)}}function p(i,s){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"ul",2),t.YNc(2,m,6,7,"ng-container",3),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.dataElement)}}function d(i,s){1&i&&(t.TgZ(0,"div",8),t._uU(1," Loading films...! "),t._UZ(2,"i",9),t.TgZ(3,"span",10),t._uU(4,"Loading..."),t.qZA(),t.qZA())}function g(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",8),t._uU(1," No data to show...! "),t.qZA(),t.TgZ(2,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).chargeAllData()}),t._UZ(3,"i",12),t._uU(4," Charge All Data "),t.qZA()}}function f(i,s){if(1&i&&(t.YNc(0,d,5,0,"div",6),t.YNc(1,g,5,0,"ng-template",null,7,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",0==n.filterActive)("ngIfElse",e)}}let h=(()=>{class i{constructor(e,n){this.serviceApi=e,this.router=n,this._dataSubscription=[],this.dataElement=[],this.dataElementOriginal=[],this.rutaActive="",this.filterActive=!1,this.lastFilter=null}ngOnInit(){let e=this.router.url.split("/");this.serviceApi.changeRouteActiveSelected(e[e.length-1]),this.rutaActive=e[e.length-1],this._dataSubscription.push(this.serviceApi.getDataApi("films").subscribe({next:n=>{this.dataElement=n.results,this.dataElementOriginal=n.results,console.log("Data search data filter Active films: ",this.filterActive),1==this.filterActive&&(console.log("Data search data filter Active films: "),this.filterData(this.lastFilter.word))}})),this._dataSubscription.push(this.serviceApi.currentDataFilter.subscribe({next:n=>{console.log("Data search data list films: ",this.rutaActive,n),this.lastFilter=n,null!=n&&n.rute==this.rutaActive&&(console.log("Data search data list films 2: ",this.rutaActive,n),this.filterData(n.word))}}))}filterData(e){""==e?(this.filterActive=!1,this.chargeAllData()):(this.filterActive=!0,this.dataElement=this.dataElementOriginal.filter(n=>n.title.toLowerCase().includes(e.toLowerCase())))}chargeAllData(){this.dataElement=this.dataElementOriginal}ngOnDestroy(){this._dataSubscription.forEach(e=>{e.unsubscribe()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.k),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-films"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["existElements",""],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"routerLink"],["class","alert alert-primary","role","alert",4,"ngIf","ngIfElse"],["existElementsFilters",""],["role","alert",1,"alert","alert-primary"],[1,"fa","fa-refresh","fa-spin","fa-fw"],[1,"sr-only"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-reply-all"]],template:function(e,n){if(1&e&&(t.YNc(0,p,3,1,"div",0),t.YNc(1,f,3,2,"ng-template",null,1,t.W1O)),2&e){const r=t.MAs(2);t.Q6J("ngIf",n.dataElement.length>0)("ngIfElse",r)}},directives:[a.O5,a.sg,l.yS],pipes:[a.uU],styles:[""]}),i})();function _(i,s){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"strong"),t._uU(4,"Title: "),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"strong"),t._uU(8,"Director: "),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"div",3),t.TgZ(11,"strong"),t._uU(12,"Director: "),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"div",3),t.TgZ(15,"strong"),t._uU(16,"Release Date: "),t.qZA(),t._uU(17),t.ALo(18,"date"),t.qZA(),t.TgZ(19,"div",3),t.TgZ(20,"strong"),t._uU(21,"Episode ID: "),t.qZA(),t._uU(22," 4 "),t.qZA(),t.TgZ(23,"div",3),t.TgZ(24,"strong"),t._uU(25," Opening Crawl: "),t.qZA(),t.TgZ(26,"p"),t._uU(27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div"),t.TgZ(29,"button",4),t._UZ(30,"i",5),t._uU(31," Back "),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",e.dataSelected.title," "),t.xp6(4),t.hij("Director: ",e.dataSelected.director," "),t.xp6(4),t.hij(" Producer Class: ",e.dataSelected.producer," "),t.xp6(4),t.hij(" ",t.xi3(18,5,e.dataSelected.release_date,"yyyy-MM-dd")," "),t.xp6(10),t.Oqu(e.dataSelected.opening_crawl)}}function A(i,s){1&i&&(t.TgZ(0,"div",6),t._uU(1," Loading films details...! "),t._UZ(2,"i",7),t.TgZ(3,"span",8),t._uU(4,"Loading..."),t.qZA(),t.qZA())}const Z=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-container"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),i})(),children:[{path:"",component:h},{path:":id",component:(()=>{class i{constructor(e,n,r){this.route=e,this.serviceApi=n,this.router=r,this.idSelected=0,this.dataSelected=null}ngOnInit(){let e=this.router.url.split("/");this.serviceApi.changeRouteActiveSelected(e[e.length-1]);const n=Number(this.route.snapshot.paramMap.get("id"));this.idSelected=n,console.log("Seleccionado: ",n),this.getInfoById()}getInfoById(){this.serviceApi.getDataByParams("films",this.idSelected).subscribe({next:e=>{console.log("Data details -- >",e),this.dataSelected=e}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.gz),t.Y36(u.k),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-view-films"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["existDataSelected",""],[1,"containerInfoDetails"],[1,"itemsDetails"],["type","button","routerLink","/films",1,"btn","btn-primary"],["aria-hidden","true",1,"fa","fa-reply-all"],["role","alert",1,"alert","alert-primary"],[1,"fa","fa-refresh","fa-spin","fa-fw"],[1,"sr-only"]],template:function(e,n){if(1&e&&(t.YNc(0,_,32,8,"div",0),t.YNc(1,A,5,0,"ng-template",null,1,t.W1O)),2&e){const r=t.MAs(2);t.Q6J("ngIf",null!=n.dataSelected)("ngIfElse",r)}},directives:[a.O5,l.rH],pipes:[a.uU],styles:[".containerInfoDetails[_ngcontent-%COMP%]{display:flex;flex-direction:column}.itemsDetails[_ngcontent-%COMP%]{margin-top:15px}"]}),i})()}]}];let v=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.Bz.forChild(Z)],l.Bz]}),i})(),F=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[a.ez,v]]}),i})()}}]);